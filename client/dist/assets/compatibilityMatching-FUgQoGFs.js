import{C as h}from"./index-D041HaBn.js";const d=["i learned","i realized","i understand","i recognize","i acknowledge","i take responsibility","i own","my fault","i was wrong","i made mistakes","i need to work on","i am working on","i am improving","i am growing","i reflect","i consider","i think about","i evaluate","i assess","i am aware","i know that","i see that","i notice","i observe"],y=["in 5 years","in 10 years","in the future","i plan to","i want to","i hope to","i aim to","i intend to","i will","i am going to","my goal","my vision","my plan","my strategy","my roadmap","building","creating","developing","growing","expanding","long-term","long term","eventually","ultimately","someday","i envision","i see myself","i imagine","i picture","i dream"],p=["values","principles","beliefs","core","fundamental","important to me","matters to me","i care about","i prioritize","i value","i believe in"];function w(i){const r=i.toLowerCase();let n=0,o=0;return d.forEach(a=>{r.includes(a)&&(o++,n+=10)}),[/\bi\s+(learned|realized|understand|recognize|acknowledge)/gi,/\bi\s+(take|took)\s+responsibility/gi,/\bi\s+(am|was)\s+wrong/gi,/\bi\s+(need|needed)\s+to\s+work\s+on/gi].forEach(a=>{const t=i.match(a);t&&(o+=t.length,n+=t.length*5)}),Math.min(100,n+o*2)}function v(i){const r=i.toLowerCase();let n=0,o=0;return y.forEach(t=>{r.includes(t)&&(o++,n+=8)}),[/\bin\s+\d+\s+years/gi,/\b\d+\s+years\s+from\s+now/gi,/\b(long|short)\s*[-]?term/gi].forEach(t=>{const e=i.match(t);e&&(o+=e.length,n+=e.length*10)}),[/\bmy\s+(goal|vision|plan|strategy|roadmap)/gi,/\bi\s+(plan|hope|aim|intend|will|am\s+going)\s+to/gi].forEach(t=>{const e=i.match(t);e&&(o+=e.length,n+=e.length*7)}),Math.min(100,n+o*2)}function b(i){if(i.length===0)return 0;const r=new Map;i.forEach(t=>{const e=t.answer.toLowerCase();p.forEach(s=>{e.includes(s)&&e.split(/[.!?]+/).forEach(u=>{if(u.includes(s)){const l=u.match(/(?:i\s+)?(?:value|care\s+about|prioritize|believe\s+in|important\s+to\s+me)\s+([^,\.!?]+)/i);if(l&&l[1]){const g=l[1].trim();r.set(g,(r.get(g)||0)+1)}}})})});const n=Array.from(r.values()).filter(t=>t>1),o=Math.min(100,n.length*15+n.reduce((t,e)=>t+e,0)*5),c=new Map;i.forEach(t=>{const e=h.find(s=>s.id===t.questionId);if(e){const s=e.category;c.has(s)||c.set(s,[]),c.get(s).push(t)}});let a=0;return c.forEach(t=>{if(t.length>1){const e=t.map(l=>l.answer.toLowerCase()).join(" "),s=new Set(e.split(/\s+/)),m=e.split(/\s+/).length,u=s.size/m;a+=(1-u)*30}}),Math.min(100,o+a)}function f(i){if(i.length===0)return{consistency:0,selfAwareness:0,futureOrientation:0,overall:0};const r=i.map(e=>w(e.answer)),n=i.map(e=>v(e.answer)),o=r.reduce((e,s)=>e+s,0)/r.length,c=n.reduce((e,s)=>e+s,0)/n.length,a=b(i),t=a*.4+o*.3+c*.3;return{consistency:Math.round(a),selfAwareness:Math.round(o),futureOrientation:Math.round(c),overall:Math.round(t)}}function A(i,r){const n=f(i),o=f(r),c=100-Math.abs(n.consistency-o.consistency),a=100-Math.abs(n.selfAwareness-o.selfAwareness),t=100-Math.abs(n.futureOrientation-o.futureOrientation),e=c*.4+a*.3+t*.3;return{consistency:Math.round(c),selfAwareness:Math.round(a),futureOrientation:Math.round(t),overall:Math.round(e)}}export{f as calculateCompatibilityScore,A as calculateMatchCompatibility};
